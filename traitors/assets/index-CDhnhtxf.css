*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}body{font-family:Georgia,Times New Roman,Times,serif;background:#13111a;color:#efe8f9;min-height:100vh}.app{max-width:960px;margin:0 auto;padding:1.5rem 1.2rem 3rem}.header{margin-bottom:1.5rem}.header h1{font-size:2.4rem;letter-spacing:.04em;color:#f5f0fb;line-height:1.1}.subtitle{font-size:1rem;color:#8a7a9a;font-style:italic;margin-bottom:.4rem}.back-link{color:#8a7a9a;font-size:.85rem;text-decoration:none;text-underline-offset:3px}.back-link:hover{color:#dcb978}.setup{display:flex;justify-content:center;padding-top:4rem}.setup-inner{max-width:440px;text-align:center}.setup-text{font-size:1.05rem;color:#c8bdd8;line-height:1.6;margin-bottom:2rem}.setup-form{display:flex;gap:.6rem}.setup-form input{flex:1;padding:.55rem .7rem;background:#1e1929;border:1px solid #4a3d5c;color:#efe8f9;font-family:Georgia,serif;font-size:1rem;outline:none}.setup-form input:focus{border-color:#dcb978}.setup-form button{padding:.55rem 1.2rem;background:linear-gradient(180deg,#3a2a1a,#2a1f14);border:1px solid #dcb978;color:#f7edcf;font-family:Georgia,serif;font-size:1rem;cursor:pointer}.setup-form button:hover{background:linear-gradient(180deg,#4a3a2a,#3a2f24)}.setup-form button:disabled{opacity:.4;cursor:default}.game-area{position:relative}.intro-stage{margin-top:2rem;max-width:860px}.phase-badge{font-style:italic;color:#dcb978;font-size:.9rem;margin-bottom:.6rem;letter-spacing:.02em}.castle-wrap{position:relative;margin-bottom:.8rem}.castle-svg{width:100%;height:auto;max-height:520px;display:block;border:1px solid #3a3148}.room-group{transition:opacity .6s ease,filter .6s ease}.room-group.dim{opacity:.4;filter:brightness(.5) saturate(.6)}.room-group.active{opacity:1;filter:brightness(1) saturate(1)}.room-glow{transition:opacity .6s ease}.room-group.dim .room-glow{opacity:0}.room-group.active .room-glow{opacity:1}.room-label{fill:#8a7a9a;font-size:11px;font-family:Georgia,serif;letter-spacing:.06em;text-transform:uppercase}.room-group.active .room-label{fill:#dcb978}.player-token{transition:transform .8s cubic-bezier(.4,0,.2,1)}.player-token.dead{opacity:.3;filter:grayscale(.8)}.player-token.human circle{filter:drop-shadow(0 0 4px rgba(213,123,95,.5))}.candle-flicker{animation:candleFlicker 3.8s ease-in-out infinite alternate}.candle-flicker-alt{animation:candleFlicker 4.4s ease-in-out infinite alternate-reverse}@keyframes candleFlicker{0%{opacity:.35;r:2.5}30%{opacity:.7;r:3.2}60%{opacity:.45;r:2.8}to{opacity:.65;r:3}}.fog-drift{animation:fogDrift 22s linear infinite}@keyframes fogDrift{0%{transform:translate(-3%)}50%{transform:translate(3%)}to{transform:translate(-3%)}}.empty-chair-pulse rect{animation:chairPulse 1.6s ease-in-out infinite}@keyframes chairPulse{0%{opacity:.4}50%{opacity:.9}to{opacity:.4}}.host-dialogue{display:flex;gap:.8rem;align-items:flex-start;padding:.8rem 1rem;background:#14111aeb;border:1px solid #dcb978;border-left:3px solid #dcb978;margin-bottom:.8rem;animation:fadeSlideIn .3s ease-out}.host-dialogue.large{padding:1rem 1.1rem;border-width:1px;border-left-width:4px}.host-icon{flex-shrink:0}.host-text{flex:1;min-width:0}.host-name{font-size:.78rem;color:#dcb978;font-style:italic;margin-bottom:.25rem;letter-spacing:.03em;text-transform:uppercase}.host-speech{font-size:.95rem;color:#f6e9d2;line-height:1.55}.host-dialogue.large .host-speech{font-size:1.03rem;line-height:1.65}.host-continue{margin-top:.5rem;background:none;border:none;color:#dcb978;font-family:Georgia,serif;font-size:.85rem;text-decoration:underline;cursor:pointer;padding:0;text-underline-offset:2px}.host-continue:hover{color:#f7edcf}.intro-overlay{cursor:pointer}.intro-hint{text-align:center;color:#8a7a9a;font-size:.8rem;font-style:italic;margin-top:.5rem}.typewriter-cursor{color:#dcb978;animation:blink .8s step-end infinite}@keyframes blink{0%,to{opacity:1}50%{opacity:0}}.morning-reveal{animation:fadeSlideIn .4s ease-out}.phase-controls{padding:.8rem 1rem;background:linear-gradient(180deg,#1e1929,#19152a);border:1px solid #3a3148;margin-bottom:.8rem;display:flex;flex-direction:column;gap:.5rem}.phase-controls.prelude{border-color:#5a4a2a;background:linear-gradient(180deg,#221a14,#1b1511)}.prelude-lines{display:flex;flex-direction:column;gap:.42rem}.prelude-line{color:#f0e4ce;font-size:.92rem;line-height:1.45}.prelude-speaker{color:#dcb978;font-style:italic;margin-right:.45rem}.prelude-text{color:#e9ddc9}.controls-label{font-size:.78rem;color:#dcb978;text-transform:uppercase;letter-spacing:.06em;font-style:italic}.phase-controls textarea{width:100%;min-height:70px;resize:vertical;padding:.5rem;background:#0f0d16;border:1px solid #3a3148;color:#efe8f9;font-family:Georgia,serif;font-size:.95rem;outline:none;line-height:1.5}.phase-controls textarea:focus{border-color:#dcb978}.phase-controls select{width:100%;padding:.45rem .5rem;background:#0f0d16;border:1px solid #3a3148;color:#efe8f9;font-family:Georgia,serif;font-size:.95rem}.phase-controls button{align-self:flex-start;padding:.4rem 1rem;background:#ffffff0a;border:1px solid #5f506f;color:#f5f0fb;font-family:Georgia,serif;font-size:.92rem;cursor:pointer}.phase-controls button:hover{border-color:#dcb978;color:#f7edcf}.phase-controls button:disabled{opacity:.35;cursor:default}.phase-controls .quiet-btn{border-color:#8a4a4a;color:#f3b8b8}.phase-controls .quiet-btn:hover:not(:disabled){border-color:#c76b6b;color:#ffd4d4;background:#91383829}.murder-btn{border-color:#8a3a3a!important;color:#fcc!important}.murder-btn:hover:not(:disabled){border-color:#c55!important;color:#fdd!important;background:#8c282826!important}.phase-controls.night{border-color:#4a2a4a;background:linear-gradient(180deg,#1a1228,#150f22)}.endgame-prompt{color:#c8bdd8;font-size:.95rem;margin-bottom:.3rem}.endgame-buttons{display:flex;gap:.8rem}.endgame-end{background:#28642833!important;border-color:#4a8a4a!important;color:#afa!important}.endgame-end:hover:not(:disabled){background:#28642859!important}.endgame-banish{background:#78282833!important;border-color:#8a4a4a!important;color:#faa!important}.endgame-banish:hover:not(:disabled){background:#78282859!important}.phase-controls.endgame{border-color:#5a4a2a;background:linear-gradient(180deg,#221a14,#1a1510)}.endgame-reveal{margin-bottom:.8rem;animation:fadeSlideIn .4s ease-out}.endgame-results{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.6rem}.endgame-pouch{padding:.4rem .65rem;border:1px solid #3a3148;font-size:.85rem}.endgame-pouch.green{border-color:#4a8a4a;background:#28642826}.endgame-pouch.red{border-color:#8a4a4a;background:#78282826}.pouch-name{font-weight:700;font-size:.8rem;margin-bottom:.15rem}.pouch-choice{color:#dcb978;font-size:.8rem}.pouch-reason{color:#8a7a9a;font-size:.75rem;margin-top:.2rem}.endgame-outcome{font-style:italic;color:#dcb978;font-size:.9rem}.phase-controls.ended{border-color:#dcb978;text-align:center}.ended-text{font-size:1.1rem;color:#f6e9d2;font-weight:700}.event-log{background:linear-gradient(180deg,#f2e4cb,#e6d5b4);border:1px solid #5b4b3a;padding:.65rem .8rem;max-height:320px;overflow-y:auto;margin-bottom:.8rem}.log-entry{margin-bottom:.55rem;padding-bottom:.4rem;border-bottom:1px dotted rgba(66,45,22,.2);font-size:.88rem;color:#2b1e14}.log-label{display:inline;color:#6b4e31;font-style:italic;font-size:.8rem;margin-right:.4rem;text-transform:lowercase}.log-text{display:inline}.reset-btn{background:none;border:1px solid #3a3148;color:#8a7a9a;font-family:Georgia,serif;font-size:.82rem;padding:.3rem .8rem;cursor:pointer}.reset-btn:hover{border-color:#8a4a4a;color:#faa}.reset-btn:disabled{opacity:.3;cursor:default}.error{color:#f99;font-size:.88rem;margin-top:.4rem}@keyframes fadeSlideIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@media(max-width:600px){.app{padding:1rem .8rem 2rem}.header h1{font-size:1.8rem}.castle-svg{max-height:380px}.endgame-buttons,.setup-form{flex-direction:column}}@media(prefers-reduced-motion:reduce){.candle-flicker,.candle-flicker-alt,.fog-drift,.empty-chair-pulse rect,.typewriter-cursor,.player-token,.room-group,.room-glow{animation:none!important;transition:none!important}}
